{% extends 'base.html.twig' %}

{% block title %}Selected Candidates{% endblock %}

{% block body %}
<div class="container py-5">
    <h1 class="mb-4 ">Selected Candidates</h1>

    <table class="table table-bordered table-striped">
        <thead class="thead-dark">
            <tr>
                <th>Name</th>
                <th>School</th>
                <th>Cursus</th>
                <th>Current Year</th>
                <th>Research Subject</th>
            </tr>
        </thead>
        <tbody>
            {% for submission in submissions %}
                <tr>
                    <td>{{ submission.candidateProfile.userProfile.firstName }} {{ submission.candidateProfile.userProfile.lastName }}</td>
                    <td>{{ submission.candidateProfile.currentSchool.name ?? 'N/A' }}</td>
                    <td>{% if submission.candidateProfile.currentYear %}
                        {{ submission.candidateProfile.currentYear|date('Y') }}
                    {% else %}
                        N/A
                    {% endif %}</td>
                    <td> {% if submission.candidateProfile.programEntryDate %}
                        {{ submission.candidateProfile.programEntryDate|date('Y-m-d') }}
                    {% else %}
                        N/A
                    {% endif %}</td>
                    <td>{{ submission.subject.name ?? 'N/A' }}</td>
                </tr>
            {% else %}
                <tr>
                    <td colspan="5" class="text-center">No candidates selected yet.</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
